{% extends "vendor_base.html" %}
{% block content %}
<div class="container mt-4">
  <h2>Edit Product</h2>
  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <!-- Category -->
    <div class="mb-3">
      <label class="form-label">Category</label>
      <select name="category" class="form-select" required>
        {% for cat in categories %}
          <option value="{{ cat.id }}" {% if product.category.id == cat.id %}selected{% endif %}>{{ cat.title }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- Brand -->
    <div class="mb-3">
      <label class="form-label">Brand</label>
      <input type="text" name="brand" class="form-control" value="{{ product.brand }}">
    </div>

    <!-- Title -->
    <div class="mb-3">
      <label class="form-label">Title</label>
      <input type="text" name="title" class="form-control" value="{{ product.title }}" required>
    </div>

    <!-- Image -->
    <div class="mb-3">
      <label class="form-label">Image</label><br>
      <img src="{{ product.image.url }}" alt="{{ product.title }}" width="100" class="mb-2"><br>
      <input type="file" name="image" class="form-control">
    </div>

    <!-- Description -->
    <div class="mb-3">
      <label class="form-label">Description</label>
      <textarea name="description" class="form-control">{{ product.description }}</textarea>
    </div>

    <!-- Price -->
    <div class="mb-3">
      <label class="form-label">Price</label>
      <input type="number" step="0.01" name="price" class="form-control" value="{{ product.price }}" required>
    </div>

    <!-- Old Price -->
    <div class="mb-3">
      <label class="form-label">Old Price</label>
      <input type="number" step="0.01" name="old_price" class="form-control" value="{{ product.old_price }}">
    </div>

    <!-- Specifications -->
    <div class="mb-3">
      <label class="form-label">Specifications</label>
      <textarea name="specifications" class="form-control">{{ product.specifications }}</textarea>
    </div>

    <!-- Tags -->
    <div class="mb-3">
      <label class="form-label">Tags</label>
      <select name="tags" class="form-select" multiple>
        {% for tag in tags %}
          <option value="{{ tag.id }}" {% if tag in product.tags.all %}selected{% endif %}>{{ tag.name }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- Status -->
    <div class="mb-3">
      <label class="form-label">Status</label>
      <select name="product_status" class="form-select">
        {% for key, value in product_status_choices %}
          <option value="{{ key }}" {% if product.product_status == key %}selected{% endif %}>{{ value }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- Featured -->
    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" name="featured" id="featured" {% if product.featured %}checked{% endif %}>
      <label class="form-check-label" for="featured">Featured</label>
    </div>

    <!-- Highlights -->
